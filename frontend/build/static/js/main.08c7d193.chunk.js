(this["webpackJsonpwoosung-times-audio"]=this["webpackJsonpwoosung-times-audio"]||[]).push([[0],{57:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a.n(c),n=a(25),r=a.n(n),i=(a(57),a(4)),l=a.n(i),o=a(12),j=a(10),u=a(13),d=a(11),b=a(8),p=a(6),O=a.n(p),h=a(0);var m=Object(d.b)("serviceStore")(Object(d.c)((function(e){var t=e.serviceStore,a=Object(c.useState)([]),s=Object(b.a)(a,2),n=s[0],r=s[1];return Object(c.useEffect)((function(){O.a.get("/api/project/get-list").then((function(e){r(e.data.data)}))}),[r]),Object(h.jsxs)("div",{className:"container m-auto is-max-desktop",children:[Object(h.jsx)("h2",{className:"title has-text-centered",children:"Woosung Times Projects"}),t.isLogined&&Object(h.jsxs)("div",{className:"box",children:[Object(h.jsx)("div",{className:"title is-6 has-text-centered",children:"\uad00\ub9ac\uc790 \uc601\uc5ed"}),Object(h.jsx)("div",{className:"buttons is-centered",children:Object(h.jsx)(j.b,{className:"button is-primary is-light has-text-centered",to:"/create-project",children:"\ud504\ub85c\uc81d\ud2b8 \ub9cc\ub4e4\uae30"})})]}),n.map((function(e){return Object(h.jsx)("div",{style:{padding:"1rem"},children:Object(h.jsx)(j.b,{to:"/project/"+e.projectId,children:e.projectName})},e.projectId)}))]})})));var x=Object(d.b)("serviceStore")(Object(d.c)((function(e){var t=e.serviceStore,a=Object(u.e)(),s=Object(c.useState)({}),n=Object(b.a)(s,2),r=n[0],i=n[1],d=Object(c.useState)([]),p=Object(b.a)(d,2),m=p[0],x=p[1],f=Object(u.g)().projectId;Object(c.useEffect)((function(){O.a.get("/api/project/get?projectId="+f).then((function(e){i(e.data.data)})),O.a.get("/api/page/get-list?projectId="+f).then((function(e){x(e.data.data)}))}),[i,f]);var g=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(prompt('\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \uc0ad\uc81c\ud558\uc2dc\ub824\uba74 \ud504\ub85c\uc81d\ud2b8 \uc774\ub984 "'.concat(r.projectName,'"\uc744 \uc785\ub825\ud558\uc2ed\uc2dc\uc624.'))===r.projectName){e.next=3;break}return e.abrupt("return",alert("\ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."));case 3:return e.next=5,O.a.delete("/api/project/delete?projectId="+f);case 5:e.sent.data.status&&(alert("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),a.goBack());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"container m-auto is-max-desktop",children:[Object(h.jsx)("h2",{className:"title has-text-centered",children:r.projectName}),t.isLogined&&Object(h.jsxs)("div",{className:"box",children:[Object(h.jsx)("div",{className:"title is-6 has-text-centered",children:"\uad00\ub9ac\uc790 \uc601\uc5ed"}),Object(h.jsxs)("div",{className:"buttons is-centered",children:[Object(h.jsx)("button",{className:"button is-primary is-light",onClick:g,children:"\ud504\ub85c\uc81d\ud2b8 \uc0ad\uc81c"}),Object(h.jsx)("button",{className:"button is-primary is-light",onClick:function(){a.push({pathname:"/create-project",state:{project:r}})},children:"\ud504\ub85c\uc81d\ud2b8 \uc218\uc815"}),Object(h.jsx)("button",{className:"button is-primary is-light",onClick:function(){a.push({pathname:"/create-page",state:{page:{projectId:f}}})},children:"\ud398\uc774\uc9c0 \uc5c5\ub85c\ub4dc"})]})]}),m.map((function(e){return Object(h.jsx)("div",{style:{padding:"1rem"},children:Object(h.jsx)(j.b,{to:"/page/"+e.pageId,children:e.pageTitle})},e.pageId)}))]})}))),f=a(9),g=a(26),v=a.n(g),N=a(48),k=a.n(N);var I=Object(d.b)("serviceStore")(Object(d.c)((function(e){var t=e.serviceStore,a=Object(u.g)().pageId,s=Object(u.e)(),n=Object(c.useState)({projectId:"",pageTitle:"",pageContent:"",audioId:""}),r=Object(b.a)(n,2),i=r[0],d=r[1],p=Object(c.useState)(!1),m=Object(b.a)(p,2),x=m[0],g=m[1],N=Object(c.useState)(!1),I=Object(b.a)(N,2),y=I[0],E=I[1],S=Object(c.useState)(!1),w=Object(b.a)(S,2),R=w[0],T=w[1],_=Object(c.useRef)(.5);Object(c.useEffect)((function(){O.a.get("/api/page/get?pageId="+a).then((function(e){e.data.status||s.push("/project");var t=e.data.data;d(t),t.pageContent&&T(!0)}))}),[a,s]);var C=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(prompt('\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \uc0ad\uc81c\ud558\uc2dc\ub824\uba74 \ud398\uc774\uc9c0 \uc774\ub984 "'.concat(i.pageTitle,'"\uc744 \uc785\ub825\ud558\uc2ed\uc2dc\uc624.'))===i.pageTitle){e.next=3;break}return e.abrupt("return",alert("\ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."));case 3:return e.next=5,O.a.delete("".concat("","/api/page/delete?pageId=").concat(a));case 5:e.sent.data.status&&(alert("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),s.goBack());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",marginBottom:"100px"},children:[Object(h.jsx)("h1",{className:"title is-1",style:{margin:"10px"},children:Object(h.jsx)(j.b,{to:"/",style:{color:"black"},children:"Woosung Times"})}),Object(h.jsx)("h2",{className:"title is-3",style:{margin:"10px"},children:i.pageTitle}),t.isLogined&&Object(h.jsxs)("div",{className:"box",children:[Object(h.jsx)("div",{className:"title is-6 has-text-centered",children:"\uad00\ub9ac\uc790 \uc601\uc5ed"}),Object(h.jsxs)("div",{className:"buttons is-centered",children:[Object(h.jsx)("button",{class:"button is-info is-light",onClick:function(){s.push({pathname:"/create-page",state:{page:Object(f.a)(Object(f.a)({},i),{},{isUpdate:!0})}})},children:"\ud398\uc774\uc9c0 \uc218\uc815"}),Object(h.jsx)("button",{class:"button is-info is-light",onClick:C,children:"\ud398\uc774\uc9c0 \uc0ad\uc81c"})]})]}),i.audioId&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{children:R?"":"Loading..."}),Object(h.jsx)(v.a,{src:"/api/file/get/"+i.audioId,style:{margin:"10px"},volume:_.current,onCanPlayThrough:function(){return T(!0)},onVolumeChanged:function(e){return _.current=e},autoPlay:!0,controls:!0})]}),i.pageContent&&Object(h.jsx)("div",{dangerouslySetInnerHTML:{__html:i.pageContent}}),Object(h.jsx)("button",{className:"button is-primary is-light",onClick:function(){return g(!0)},style:{margin:"30px"},children:"Share"}),x?Object(h.jsxs)("div",{className:"has-text-centered",children:[Object(h.jsx)("div",{className:"control",children:Object(h.jsxs)("div",{className:"tags has-addons is-centered",children:[Object(h.jsx)("span",{className:"tag is-primary",children:window.location.href}),Object(h.jsx)("span",{className:"tag is-dark",style:{cursor:"pointer"},onClick:function(){E(!0),navigator.clipboard.writeText(window.location.href)},children:y?"Copied!":"Copy URL"})]})}),Object(h.jsx)(k.a,{value:window.location.href,level:"M",id:"qr-code",size:600,style:{width:"220px",height:"220px"},imageSettings:{src:"/woosunghs_logo.png",excavate:!0},includeMargin:!0}),Object(h.jsx)("div",{children:Object(h.jsx)(j.b,{onClick:function(){var e=document.querySelector("#qr-code"),t=document.createElement("a");t.href=e.toDataURL("image/png"),t.download=i.pageTitle+"_qr_code.png",t.click()},children:"Download"})})]}):""]})}))),y=a(19),E=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat("","/api/user/silent-refresh"),{},{withCredentials:!0});case 2:if(200===(a=e.sent).status){e.next=5;break}return e.abrupt("return",!1);case 5:return c=new Date(a.data.data.expires)-new Date,s=a.data.data.token,console.log(c),setTimeout(E,c),O.a.defaults.headers.common.Authorization=s,e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var S=Object(d.b)("serviceStore")(Object(d.c)((function(e){var t=e.serviceStore,a=Object(c.useState)({}),s=Object(b.a)(a,2),n=s[0],r=s[1],i=Object(u.e)(),j=function(e){r(Object(f.a)(Object(f.a)({},n),{},Object(y.a)({},e.target.name,e.target.value)))},d=function(){var e=Object(o.a)(l.a.mark((function e(){var a,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat("","/api/user/login"),n,{withCredentials:!0});case 2:if((a=e.sent).data.status){e.next=6;break}return alert("\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4."),e.abrupt("return");case 6:c=new Date(a.data.data.expires)-new Date,s=a.data.data.token,O.a.defaults.headers.common.Authorization=s,setTimeout(E,c),t.setIsLogined(!0),t.setUserId(n.userId),localStorage.setItem("isLogined",!0),localStorage.setItem("userId",n.userId),i.push("/");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),window.confirm("\ube44\ubc00\ubc88\ud638 \ubcf5\uad6c\ub97c \uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=3;break}return e.abrupt("return",alert("\ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."));case 3:return a=prompt("\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc2ed\uc2dc\uc624."),e.next=6,O.a.post("".concat("","/api/user/request-recover"),{userEmail:a});case 6:if(e.sent.data.status){e.next=9;break}return e.abrupt("return");case 9:alert("\uc774\uba54\uc77c \ubcf5\uad6c \uc8fc\uc18c\uac00 \uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ub9c1\ud06c\ub294 7\uc77c \uc774\ub0b4 \uc720\ud6a8\ud569\ub2c8\ub2e4.");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"container m-auto is-max-desktop",children:[Object(h.jsx)("h2",{className:"title has-text-centered is-1",style:{marginTop:"100px"},children:"\ub85c\uadf8\uc778"}),Object(h.jsxs)("div",{className:"box",children:[Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("label",{className:"label",children:"ID"}),Object(h.jsx)("div",{className:"control",children:Object(h.jsx)("input",{className:"input",type:"text",name:"userId",onChange:j,placeholder:"\uc544\uc774\ub514"})})]}),Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("label",{className:"label",children:"PW"}),Object(h.jsx)("div",{className:"control",children:Object(h.jsx)("input",{className:"input",type:"password",name:"userPw",onChange:j,placeholder:"\ube44\ubc00\ubc88\ud638"})})]}),Object(h.jsx)("div",{className:"field",children:Object(h.jsx)("label",{className:"label",children:Object(h.jsx)("a",{href:"/",onClick:p,children:"\ube44\ubc00\ubc88\ud638 \ubcf5\uad6c"})})}),Object(h.jsx)("button",{className:"button is-fullwidth is-primary",onClick:d,children:"\ub85c\uadf8\uc778"})]})]})}))),w={ERR_AUDIO_NOT_EXISTS:{status:404,msg:"ERR_AUDIO_NOT_EXISTS",korMsg:"\uc74c\uc6d0\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."},ERR_USER_INCORRECT:{status:401,msg:"ERR_USER_INCORRECT",korMsg:"\uc62c\ubc14\ub978 \uc774\uc6a9\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4."},ERR_EMAIL_NOT_EXISTS:{status:404,msg:"ERR_EMAIL_NOT_EXISTS",korMsg:"\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4."},ERR_PROJECT_NOT_EXISTS:{status:404,msg:"ERR_PROJECT_NOT_EXISTS",korMsg:"\ud504\ub85c\uc81d\ud2b8\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."},ERR_KEY_NOT_EXISTS:{status:404,msg:"ERR_KEY_NOT_EXISTS",korMsg:"\ud0a4\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."},ERR_PAGE_NOT_EXISTS:{status:404,msg:"ERR_PAGE_NOT_EXISTS",korMsg:"\ud398\uc774\uc9c0\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."},ERR_TOKEN_INVALID:{status:401,msg:"ERR_TOKEN_INVALID",korMsg:"\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ud1a0\ud070\uc785\ub2c8\ub2e4."},ERR_EXISTING_USER_ID:{status:200,msg:"ERR_EXISTING_USER_ID",korMsg:"\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 ID\uc785\ub2c8\ub2e4."},ERR_EXISTING_EMAIL:{status:200,msg:"ERR_EXISTING_EMAIL",korMsg:"\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4."},ERR_ID_NOT_EXISTS:{status:200,msg:"ERR_ID_NOT_EXISTS",korMsg:"\uc874\uc7ac\ud558\ub294 ID\uac00 \uc544\ub2d9\ub2c8\ub2e4."},ERR_PW_INCORRECT:{status:200,msg:"ERR_PW_INCORRECT",korMsg:"\ube44\ubc00\ubc88\ud638\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."},ERR_FILE_NOT_SUPPORTED:{status:406,msg:"ERR_FILE_NOT_SUPPORTED",korMsg:"\uc9c0\uc6d0\ub418\ub294 \ud30c\uc77c\uc774 \uc544\ub2d9\ub2c8\ub2e4."},ERR_FILE_NOT_EXISTS:{status:404,msg:"ERR_FILE_NOT_EXISTS",korMsg:"\ud30c\uc77c\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."},INTERNAL_SERVER_ERROR:{status:500,msg:"INTERNAL_SERVER_ERROR",korMsg:"\uc11c\ubc84\uc5d0 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."}};var R=function(){var e=Object(c.useState)({userId:"",userPw:"",userPwCheck:"",userName:"",userEmail:"",registerKey:""}),t=Object(b.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),r=Object(b.a)(n,2),i=r[0],j=r[1],d=Object(u.e)(),p=function(e){var t=e.target,c=t.name,n=t.value;s(Object(f.a)(Object(f.a)({},a),{},Object(y.a)({},c,n)))},m=function(){var e=Object(o.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat("","/api/user/check-exists"),{userId:a.userId,userEmail:a.userEmail,registerKey:a.registerKey});case 2:return t=e.sent,(c=t.data.data)&&w.hasOwnProperty(c)&&alert(w[c].msgKor),e.next=7,O.a.post("".concat("","/api/user/signup"),a);case 7:"OK"===(t=e.sent).data.data&&(alert("\ud68c\uc6d0\uac00\uc785\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),d.push("/"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"container m-auto is-max-desktop",children:[Object(h.jsx)("h2",{className:"title has-text-centered is-1",style:{marginTop:"100px"},children:"\uad00\ub9ac\uc790 \ub4f1\ub85d"}),Object(h.jsxs)("div",{className:"box",children:[Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("label",{className:"label",children:"ID"}),Object(h.jsx)("div",{className:"control",children:Object(h.jsx)("input",{className:"input",type:"text",placeholder:"\uc544\uc774\ub514",name:"userId",onChange:p})})]}),Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("label",{className:"label",children:"PW"}),Object(h.jsx)("div",{className:"control",children:Object(h.jsx)("input",{className:"input",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638",name:"userPw",onChange:p})})]}),Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("label",{className:"label",children:"PW \ud655\uc778"}),Object(h.jsx)("div",{className:"control",children:Object(h.jsx)("input",{className:"input",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",name:"userPwCheck",onChange:p,onKeyUp:function(){a.userPwCheck&&a.userPw!==a.userPwCheck?j(!0):j(!1)}})}),i?Object(h.jsx)("label",{className:"label",style:{color:"#FF0000"},children:"\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4!"}):""]}),Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("label",{className:"label",children:"\ub2c9\ub124\uc784"}),Object(h.jsx)("div",{className:"control",children:Object(h.jsx)("input",{className:"input",type:"text",placeholder:"\ub2c9\ub124\uc784",name:"userName",onChange:p})})]}),Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("label",{className:"label",children:"\uc774\uba54\uc77c \uc8fc\uc18c"}),Object(h.jsx)("div",{className:"control",children:Object(h.jsx)("input",{className:"input",type:"email",placeholder:"to@example.com",name:"userEmail",onChange:p})})]}),Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("label",{className:"label",children:"\uac00\uc785 \ucf54\ub4dc"}),Object(h.jsx)("div",{className:"control",children:Object(h.jsx)("input",{className:"input",type:"text",placeholder:"\uac00\uc785 \ucf54\ub4dc",name:"registerKey",onChange:p})})]}),Object(h.jsx)("button",{className:"button is-fullwidth is-primary",onClick:m,children:"\ud68c\uc6d0\uac00\uc785"})]})]})};var T=function(){var e=Object(u.f)().state,t=Object(u.e)(),a=Object(c.useState)({projectName:"",projectDescription:""}),s=Object(b.a)(a,2),n=s[0],r=s[1];Object(c.useEffect)((function(){e&&r(Object(f.a)({},e.project))}),[r,e]);var i=function(e){var t=e.target,a=t.name,c=t.value;r(Object(f.a)(Object(f.a)({},n),{},Object(y.a)({},a,c)))},j=function(){var a=Object(o.a)(l.a.mark((function a(){var c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.projectName.trim()){a.next=2;break}return a.abrupt("return",alert("\uc81c\ubaa9\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694."));case 2:if(!e){a.next=8;break}return a.next=5,O.a.post("".concat("","/api/project/update"),Object(f.a)(Object(f.a)({},n),{},{projectId:e.project.projectId}));case 5:c=a.sent,a.next=11;break;case 8:return a.next=10,O.a.post("".concat("","/api/project/create"),n);case 10:c=a.sent;case 11:c.data.status&&t.goBack();case 12:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"container m-auto is-max-desktop",children:[Object(h.jsx)("h2",{className:"title has-text-centered is-1",style:{marginTop:"100px"},children:"\ud504\ub85c\uc81d\ud2b8 \ub9cc\ub4e4\uae30"}),Object(h.jsx)("div",{className:"block",children:Object(h.jsx)("input",{className:"input",type:"text",placeholder:"\uc81c\ubaa9",name:"projectName",defaultValue:e?e.project.projectName:"",onChange:i})}),Object(h.jsx)("div",{className:"block",children:Object(h.jsx)("input",{className:"input",type:"text",placeholder:"\uc124\uba85(\uc120\ud0dd)",name:"projectDescription",defaultValue:e?e.project.projectDescription:"",onChange:i})}),Object(h.jsx)("div",{className:"block",children:Object(h.jsx)("button",{className:"button is-fullwidth is-primary",onClick:j,children:"\uc791\uc131"})})]})},_=(a(87),function(e){return!!w[e]&&(window.alert(w[e].korMsg),!0)}),C=(a(88),a(49));var P=function(){var e=Object(u.f)().state,t=Object(u.e)(),a=Object(c.useRef)(),s=Object(c.useState)({pageId:"",pageTitle:"",pageContent:"",audioId:""}),n=Object(b.a)(s,2),r=n[0],i=n[1],j=Object(c.useState)({}),d=Object(b.a)(j,2),p=d[0],m=d[1];Object(c.useEffect)((function(){e.page.isUpdate&&i(Object(f.a)(Object(f.a)({},e.page),{},{isUpdate:void 0}))}),[i,e]);var x=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",p,p.name),e.next=4,O.a.post("".concat("","/api/file/upload"),t,{headers:{"Content-Type":"multipart/form-data"}});case 4:(a=e.sent).data.status&&i(Object(f.a)(Object(f.a)({},r),{},{audioId:a.data.data})),alert("\uc5c5\ub85c\ub4dc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),e.next=4,O.a.post("".concat("","/api/file/upload"),a,{headers:{"Content-Type":"multipart/form-data"}});case 4:if((c=e.sent).data.status){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return","".concat("","/api/file/get/")+c.data.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var a=Object(o.a)(l.a.mark((function a(){var c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.pageTitle.trim()){a.next=2;break}return a.abrupt("return",alert("\uc81c\ubaa9\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694."));case 2:if(!e.page.isUpdate){a.next=8;break}return a.next=5,O.a.post("".concat("","/api/page/update"),Object(f.a)(Object(f.a)({},r),{},{projectId:e.page.projectId}));case 5:c=a.sent,a.next=11;break;case 8:return a.next=10,O.a.post("".concat("","/api/page/create"),Object(f.a)(Object(f.a)({},r),{},{projectId:e.page.projectId}));case 10:c=a.sent;case 11:c.data.status&&t.goBack();case 12:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"container m-auto is-max-desktop",children:[Object(h.jsx)("h2",{className:"title has-text-centered is-1",style:{marginTop:"100px"},children:"\ud398\uc774\uc9c0 \uc5c5\ub85c\ub4dc"}),Object(h.jsx)("div",{className:"block",children:Object(h.jsx)("input",{className:"input",type:"text",placeholder:"\uc81c\ubaa9",name:"pageTitle",defaultValue:e.page.isUpdate?e.page.pageTitle:"",onChange:function(e){var t=e.target,a=t.name,c=t.value;i(Object(f.a)(Object(f.a)({},r),{},Object(y.a)({},a,c)))}})}),Object(h.jsx)("div",{className:"block",children:Object(h.jsx)(C.a,{initialValue:e.page.isUpdate?e.page.pageContent:"",previewStyle:"vertical",height:"700px",initialEditType:"wysiwyg",ref:a,onChange:function(){i(Object(f.a)(Object(f.a)({},r),{},{pageContent:a.current.getInstance().getHTML()}))},hooks:{addImageBlobHook:function(){var e=Object(o.a)(l.a.mark((function e(t,a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:return c=e.sent,a(c,"alt text"),e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}})}),Object(h.jsx)("div",{className:"block",children:Object(h.jsxs)("div",{class:"file is-primary has-name",children:[Object(h.jsxs)("label",{class:"file-label",children:[Object(h.jsx)("input",{class:"file-input",type:"file",onChange:function(e){m(e.target.files[0])}}),Object(h.jsx)("span",{class:"file-cta",children:Object(h.jsx)("span",{class:"file-label",children:"\uc74c\uc131 \uc5c5\ub85c\ub4dc"})}),Object(h.jsx)("span",{class:"file-name",children:p.name})]}),Object(h.jsx)("button",{className:"button ml-2",onClick:x,children:"\uc5c5\ub85c\ub4dc"})]})}),Object(h.jsx)("div",{className:"block",children:Object(h.jsx)("button",{className:"button is-fullwidth is-primary",onClick:v,children:"\uc791\uc131"})})]})},L=a(52),D=a(7);var M=Object(d.b)("serviceStore")(Object(d.c)((function(e){e.serviceStore;var t=Object(c.useState)(""),a=Object(b.a)(t,2),s=a[0],n=a[1],r=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat("","/api/user/create-key"));case 2:if((t=e.sent).data.status){e.next=5;break}return e.abrupt("return");case 5:n(t.data.data.key);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"container m-auto is-max-desktop",children:[Object(h.jsx)("h2",{className:"title has-text-centered is-1",style:{marginTop:"100px"},children:"\uac00\uc785 \ucf54\ub4dc \uc0dd\uc131"}),Object(h.jsxs)("div",{className:"box",children:[Object(h.jsxs)("div",{children:["*\uac00\uc785 \ucf54\ub4dc\ub294 \uad00\ub9ac\uc790 \uac00\uc785\uc744 \uc704\ud574 \ud544\uc694\ud55c \ucf54\ub4dc\uc785\ub2c8\ub2e4. ",Object(h.jsx)("br",{}),"*\ucf54\ub4dc\uc758 \uc720\ud6a8\uae30\uac04\uc740 7\uc77c\uc774\uba70, 1\ud68c\uc6a9\uc785\ub2c8\ub2e4. ",Object(h.jsx)("br",{}),"*\uac00\uc785 \ucf54\ub4dc\ub294 \ub300\uc18c\ubb38\uc790\ub97c \uad6c\ubd84\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]}),Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("label",{className:"label",children:"\uac00\uc785 \ucf54\ub4dc"}),Object(h.jsx)("h2",{className:"title has-text-centered is-2",children:s})]}),Object(h.jsx)("button",{className:"button is-fullwidth is-primary",onClick:r,children:"\uc0dd\uc131"})]})]})})));var U=Object(d.b)("serviceStore")(Object(d.c)((function(e){e.serviceStore;var t=Object(c.useState)({userPw:"",userPwCheck:""}),a=Object(b.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(!1),i=Object(b.a)(r,2),j=i[0],d=i[1],p=Object(u.g)().recoverKey,m=Object(u.e)(),x=function(e){n(Object(f.a)(Object(f.a)({},s),{},Object(y.a)({},e.target.name,e.target.value)))},g=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat("","/api/user/accept-recover"),{recoverKey:p,userPw:s.userPw});case 2:if(e.sent.data.status){e.next=5;break}return e.abrupt("return");case 5:alert("\ube44\ubc00\ubc88\ud638 \uc7ac\uc124\uc815\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),m.push("/");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"container m-auto is-max-desktop",children:[Object(h.jsx)("h2",{className:"title has-text-centered is-1",style:{marginTop:"100px"},children:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc124\uc815"}),Object(h.jsxs)("div",{className:"box",children:[Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("label",{className:"label",children:"PW"}),Object(h.jsx)("div",{className:"control",children:Object(h.jsx)("input",{className:"input",type:"password",name:"userPw",onChange:x,placeholder:"\ube44\ubc00\ubc88\ud638"})})]}),Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("label",{className:"label",children:"PW \ud655\uc778"}),Object(h.jsx)("div",{className:"control",children:Object(h.jsx)("input",{className:"input",type:"password",name:"userPwCheck",onChange:x,onKeyUp:function(){s.userPwCheck&&s.userPw!==s.userPwCheck?d(!0):d(!1)},placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"})}),j?Object(h.jsx)("label",{className:"label",style:{color:"#FF0000"},children:"\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4!"}):""]}),Object(h.jsx)("button",{className:"button is-fullwidth is-primary",onClick:g,children:"\ubcf5\uad6c"})]})]})})));var F=Object(d.b)("serviceStore")(Object(d.c)((function(e){var t=e.serviceStore,a=Object(c.useState)([]),s=Object(b.a)(a,2),n=s[0],r=s[1];return Object(c.useEffect)((function(){t.isLogined&&O.a.get("/api/file/get-list").then((function(e){r(e.data.data)}))}),[t.isLogined,r]),Object(h.jsxs)("div",{className:"container m-auto is-max-desktop",children:[Object(h.jsx)("h2",{className:"title has-text-centered",children:"\uc5c5\ub85c\ub4dc\ub41c \ud30c\uc77c"}),n.map((function(e,t){return Object(h.jsx)("div",{style:{padding:"1rem"},children:Object(h.jsx)(j.b,{to:"/file/"+e.fileHash,children:e.originalName})},t)}))]})})));var X=Object(d.b)("serviceStore")(Object(d.c)((function(e){var t=e.serviceStore,a=Object(c.useState)({fileHash:"",originalName:"",fileType:""}),s=Object(b.a)(a,2),n=s[0],r=s[1],i=Object(c.useState)([]),d=Object(b.a)(i,2),p=d[0],m=d[1],x=Object(c.useState)(!1),f=Object(b.a)(x,2),g=f[0],N=f[1],k=Object(c.useRef)(.5),I=Object(u.e)(),y=Object(u.g)().fileHash;Object(c.useEffect)((function(){t.isLogined&&(O.a.get("/api/file/get-data?file="+y).then((function(e){r(e.data.data)})),O.a.get("/api/file/page-include?file="+y).then((function(e){m(e.data.data)})))}),[t.isLogined,y,r]);var E=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("\uc815\ub9d0 \ud30c\uc77c\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \ubcf8 \ud30c\uc77c\uc744 \uc0ac\uc6a9\ud558\ub294 \ud398\uc774\uc9c0\uc5d0\uc11c \ub354\uc774\uc0c1 \ud30c\uc77c\uc744 \ub85c\ub4dc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")){e.next=2;break}return e.abrupt("return",alert("\ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."));case 2:return e.next=4,O.a.delete("/api/file/delete?file="+y);case 4:e.sent.data.status&&alert("\ud30c\uc77c\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),I.goBack();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"container m-auto is-max-desktop",children:[Object(h.jsx)("h2",{className:"title has-text-centered",children:"\ud30c\uc77c \uc0c1\uc138 \uc815\ubcf4"}),Object(h.jsx)("button",{className:"button is-primary is-light",style:{marginLeft:"1rem"},onClick:E,children:"\ud30c\uc77c \uc0ad\uc81c"}),Object(h.jsxs)("p",{style:{margin:"1rem"},children:["\ud30c\uc77c \ud574\uc2dc(SHA-256): ",y]}),Object(h.jsxs)("p",{style:{margin:"1rem"},children:["\ucd5c\ucd08 \uc5c5\ub85c\ub4dc \uc774\ub984: ",n.originalName]}),Object(h.jsxs)("p",{style:{margin:"1rem"},children:["\ud30c\uc77c \ud0c0\uc785: ",n.fileType]}),Object(h.jsxs)("p",{style:{margin:"1rem"},children:["\uc774 \ud30c\uc77c\uc744 \uc0ac\uc6a9\ud558\ub294 \ud398\uc774\uc9c0:"," ",p.map((function(e,t){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.b,{to:"/page/"+e.pageId,children:e.pageTitle},t),", "]})}))]}),Object(h.jsxs)("div",{style:{margin:"1rem"},children:[Object(h.jsx)("p",{className:"mb-4",children:"\ud30c\uc77c \ubbf8\ub9ac\ubcf4\uae30"}),n.fileType.startsWith("image")?Object(h.jsx)("img",{src:"/api/file/get/"+y,alt:"alt text"}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{children:g?"":"Loading..."}),Object(h.jsx)(v.a,{src:"/api/file/get/"+y,style:{margin:"10px"},volume:k.current,onCanPlayThrough:function(){return N(!0)},onVolumeChanged:function(e){return k.current=e},controls:!0})]})]})]})})));O.a.interceptors.response.use((function(e){return _(e.data.data),e}),(function(e){return _(e.response.data.data),e.response.data}));var A=new function e(){var t=this;Object(L.a)(this,e),this.userId="",this.userName="",this.isLogined=!1,this.setUserId=function(e){t.userId=e},this.setUserName=function(e){t.userName=e},this.setIsLogined=function(e){t.isLogined=e},Object(D.l)(this)};Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("isLogined")){e.next=8;break}return e.next=3,E();case 3:if(e.sent){e.next=6;break}return e.abrupt("return",localStorage.setItem("isLogined",""));case 6:A.setIsLogined(!0),A.setUserId(localStorage.getItem("userId"));case 8:case"end":return e.stop()}}),e)})))();var K=Object(d.b)("serviceStore")(Object(d.c)((function(e){var t=e.serviceStore;return Object(h.jsxs)("div",{className:"container m-auto is-max-desktop has-text-centered",children:[Object(h.jsx)("h1",{className:"title is-1",style:{margin:"10px"},children:"Woosung Times Article Reading"}),Object(h.jsx)("p",{children:"\uc6b0\uc131\uace0\ub4f1\ud559\uad50 \uc601\uc790\uc2e0\ubb38 \uc74c\uc131 \uc9c0\uc6d0"}),Object(h.jsx)(j.b,{to:"/project",children:"\ud504\ub85c\uc81d\ud2b8 \ub9ac\uc2a4\ud2b8 \ubcf4\uae30"})," ",Object(h.jsx)("br",{}),t.isLogined?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),t.setIsLogined(!1),t.setUserId(""),localStorage.clear(),alert("\ub85c\uadf8\uc544\uc6c3 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.")},children:"\ub85c\uadf8\uc544\uc6c3"}),Object(h.jsx)("br",{}),Object(h.jsx)(j.b,{to:"/create-key",children:"\uac00\uc785 \ucf54\ub4dc \uc0dd\uc131"}),Object(h.jsx)("br",{}),Object(h.jsx)(j.b,{to:"/file",children:"\ud30c\uc77c \uad00\ub9ac"})]}):Object(h.jsx)(j.b,{to:"/login",children:"\uad00\ub9ac\uc790 \ub85c\uadf8\uc778"}),Object(h.jsx)("br",{}),Object(h.jsx)(j.b,{to:"/signup",children:"\uad00\ub9ac\uc790 \ub4f1\ub85d"})]})})));var W=function(){return Object(h.jsxs)(d.a,{serviceStore:A,children:[Object(h.jsx)(u.a,{path:"/",component:K,exact:!0}),Object(h.jsx)(u.a,{path:"/project",component:m,exact:!0}),Object(h.jsx)(u.a,{path:"/create-project",component:T,exact:!0}),Object(h.jsx)(u.a,{path:"/project/:projectId",component:x,exact:!0}),Object(h.jsx)(u.a,{path:"/page/:pageId",component:I,exact:!0}),Object(h.jsx)(u.a,{path:"/create-page",component:P,exact:!0}),Object(h.jsx)(u.a,{path:"/login",component:S,exact:!0}),Object(h.jsx)(u.a,{path:"/signup",component:R,exact:!0}),Object(h.jsx)(u.a,{path:"/create-key",component:M,exact:!0}),Object(h.jsx)(u.a,{path:"/recover/:recoverKey",component:U,exact:!0}),Object(h.jsx)(u.a,{path:"/file",component:F,exact:!0}),Object(h.jsx)(u.a,{path:"/file/:fileHash",component:X,exact:!0})]})},V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,90)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(j.a,{children:Object(h.jsx)(W,{})})}),document.getElementById("root")),V()}},[[89,1,2]]]);